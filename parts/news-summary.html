<!-- مرروی بر اخبار -->
<div class="section-header">
  <div>
    <div class="section-title">اخبار</div>
    <div class="subtitle">مروری بر اخبار</div>
  </div>
</div>

<!-- فقط یک container -->
<div class="container">

    <!-- کارت‌های اولیه توسط JS پر می‌شوند -->
    <div id="summary-news-list"></div>

  <div class="more-button-wrapper">
    <a href="parts/news.html" class="button">مشاهده بیشتر</a>
  </div>
  </div>

  <script>
    // بارگذاری JSON خبرها و نمایش ۵ مورد اول
    fetch('../pages/news/news-list.json')
      .then(res => res.json())
      .then(list => {
        const container = document.getElementById('summary-news-list');
        list.slice(0,5).forEach(item => {
          const div = document.createElement('div');
          div.className = 'app';
          div.innerHTML = `
            <div class="app-info">
              <img src="${item.thumb}" alt="${item.title}">
              <div class="app-text">
                <div class="app-title">${item.title}</div>
                <div class="app-subtitle">${item.summary}</div>
              </div>
            </div>
            <div class="app-actions">
              <div class="app-date">${toPersianDate(item.date)}</div>
              <a href="../pages/news/${item.file}" class="button">جزئیات</a>
            </div>
          `;
          container.appendChild(div);
        });
      });

    // همان تابع تبدیل تاریخ
    function toPersianDate(iso) {
      const [y,m,d] = iso.split('-');
      const months = ['فروردین','اردیبهشت','خرداد','تیر','مرداد','شهریور','مهر','آبان','آذر','دی','بهمن','اسفند'];
      return `${+d} ${months[+m-1]} ${+y}`;
    }
  </script>

</body>
</html>
